(function(h){var m=window.AmazonUIPageJS||window.P,C=m._namespace||m.attributeErrors,a=C?C("AskAuiAssets",""):m;a.guardFatal?a.guardFatal(h)(a,window):a.execute(function(){h(a,window)})})(function(h,m,C){h.when("jQuery","ready").execute(function(a){a("body").delegate(".askInlineWidget .cdShowLess, .askInlineWidget .cdReadMore","click touchstart",function(b){b.preventDefault();a(b.target).parents(".cdJSEnabledText").toggleClass("askShowMore")})});h.when("jQuery","load").execute(function(a){var b=a(".askSubHeader");
0<b.length&&!m.pageYOffset&&a("html, body").animate({scrollTop:b.offset().top},0)});h.when("jQuery","ready").execute(function(a){function b(){return a(m).scrollTop()+5>=a(document).height()-a(m).height()}function g(){b()&&e()}function f(){a("body").hasClass("allAnswersScrolling")?a(document).scroll(g):(a(".loadMoreAnswersMobile").show(),a(".loadMoreAnswersMobile").bind("touchstart click",e))}function e(){var n=a(".answersLoadingSpinner"),p=a(".loadMoreAnswersMobile"),l=a.trim(a(".askPage input[name\x3daskQuestion]").val()),
k=a.trim(a(".askPage input[name\x3daskSort]").val()),h=a(".askPage input[name\x3daskLanguage]").val(),q=a(".askPage input[name\x3daskAsin]").val(),l="/ask/answers/inline/"+l+"/"+d+"?pageSize\x3d6\x26sort\x3d"+k+"\x26language\x3d"+h;void 0!==q&&(l+="\x26asin\x3d"+q);n.show();p.hide();a(".askMobileFailedToFetchMoreAnswers").hide();a(document).unbind("scroll",g);p.unbind("touchstart click",e);a.ajax({url:l,data:{},dataType:"html",cache:!1,timeout:2E3,success:function(g){n.hide();a(".askPage .answerBox").append(g);
c&&(b()?e():c=!1);"true"===a.trim(a("input[name\x3dmoreAnswersAfterPage"+d+"]").val())?f():a(".loadMoreAnswersMobile").hide();a(document).trigger("ajax:success");d+=1},error:function(){n.hide();a(".askMobileFailedToFetchMoreAnswers").show();f()}})}var c=!0,d=3;a("body").hasClass("allAnswersScrolling")&&(b()?e():c=!1,a(document).scroll(g));a(".loadMoreAnswersMobile").bind("touchstart click",e)});h.when("jQuery","ready").execute(function(a){var b=!0;a("body").delegate(".askQuestionForm","submit",function(f){f=
a(f.currentTarget);var e=f.find("[name\x3d'askQuestionText']"),c=e.val(),e=e.attr("placeholder");if("undefined"===typeof c||c.match(/^\s*$/)||c===e)return f.attr("class","askQuestionForm hasEmptyQuestion"),!1;if(b)return b=!1,e=g,c=0<=c.indexOf("?")||0<=c.indexOf("ØŸ"),e(f,c),!1;f.attr("class","askQuestionForm");return!0});var g=function(a,e){e?a.trigger("submit"):a.attr("class","askQuestionForm hasBadQuestion")}});h.when("jQuery","ready").register("askPostQuestionValidation",function(a){function b(d){var b=
a(d.currentTarget),l=e.val(),k=e.attr("placeholder");a(".askError").hide();return"undefined"===typeof l||l.match(/^\s*$/)||l===k?(c.show(),d.stopImmediatePropagation(),!1):f?(f=!1,k=g,l=0<=l.indexOf("?"),k(b,l),d.stopImmediatePropagation(),!1):!0}function g(a,c){c?a.trigger("submit"):d.show()}var f=!0,e,c=a(".askEmptyQuestionError"),d=a(".askBadQuestionError");return{setup:function(a,d,c){e=c;a.delegate(d,"submit",b)}}});h.when("jQuery","askHuddlesControl","ready").execute(function(a,b){function g(f){var e=
a.trim(a(".askWidgetQuestions input.askAsin").val());a.ajax({url:"/ask/questions/inline/"+e+"/"+f,data:{},dataType:"html",cache:!1,timeout:5E3,success:function(c){a(".askInlineWidget .askFailedToFetchMoreQuestions").hide();a(".askInlineWidget .askLoadMoreQuestions").hide();a(".askInlineWidget .askMoreQandAResults").append(c);a(".askInlineWidget .askTopQandALoadMoreQuestions").hide();c=f+1;a(".askWidgetQuestions input.nextPage").val(c);c=document.getElementById("askInlineQuestionsPage-"+f);var d;if(d=
"undefined"!==typeof c&&null!==c)d=c.getBoundingClientRect(),d=!(0<=d.top&&0<=d.left&&d.bottom<=(m.innerHeight||a(m).height())&&d.right<=(m.innerWidth||a(m).width()));if(d){d=0;do d+=c.offsetTop||0,c=c.offsetParent;while(c);c=d;a("html, body").animate({scrollTop:c},"slow")}b.initializeHuddlesLinks(a(".askInlineWidget .askMoreQandAResults"),"dp")},error:function(){a(".askInlineWidget .askFailedToFetchMoreQuestions").show()}})}a("body").delegate(".askInlineWidget .askSeeMoreQuestionsLink","click",function(a){g(2);
a.preventDefault()});a("body").delegate(".askInlineWidget .askLoadMoreQuestionsLink","click",function(f){var e=parseInt(a(".askWidgetQuestions input.nextPage").val(),10)||0;0<e&&(g(e),f.preventDefault())})});h.when("jQuery","ready").execute(function(a){function b(d){d=document.getElementById(d);var c;if(c="undefined"!==typeof d&&null!==d)c=d.getBoundingClientRect(),c=!(0<=c.top&&0<=c.left&&c.bottom<=(m.innerHeight||a(m).height())&&c.right<=(m.innerWidth||a(m).width()));if(c){c=0;do c+=d.offsetTop||
0,d=d.offsetParent;while(d);d=c;a("html, body").animate({scrollTop:d},"slow")}}function g(){var d=a(".askQuestionForm input.askAsin").val();return d&&0!==d.length?"?asin\x3d"+d:""}function f(d,c){if(d){var f=g();a.ajax({url:"/ask/answers/inline/"+d+"/"+c+f,data:{},dataType:"html",cache:!1,timeout:5E3,success:function(f){a(".askInlineWidget #failed-to-fetch-answers-"+d).hide();a(".askInlineWidget #askSeeAllAnswersLink-"+d).hide();a(".askInlineWidget .askCollapseAnswers-"+d).show();a(".askInlineWidget .askLoadMoreAnswersLink-"+
d).hide();a(".askInlineWidget #"+d).show();a(".askInlineWidget #"+d).append(f);e(d,c);b("askInlineAnswersPage-"+d+"-"+c)},error:function(){a(".askInlineWidget #failed-to-fetch-answers-"+d).show()}})}}function e(d,c){a(".askWidgetQuestions input.currentAnswersPage-"+d).val(c)}function c(d){b("question-"+d);setTimeout(function(){a(".askInlineWidget #"+d).empty();a(".askInlineWidget .askCollapseAnswers-"+d).hide();a(".askInlineWidget #failed-to-fetch-answers-"+d).hide();a(".askInlineWidget #askSeeAllAnswersLink-"+
d).show()},500);e(d,1)}a("body").delegate(".askInlineWidget .askWidgetSeeAllAnswersInline","click",function(d){var c=a(d.currentTarget).attr("data-questionId");f(c,1);d.preventDefault()});a("body").delegate(".askInlineWidget .askWidgetLoadMoreAnswersInline","click",function(c){var e=a(c.currentTarget).attr("data-questionId"),b=parseInt(a(".askWidgetQuestions input.currentAnswersPage-"+e).val(),10)||0;0<b&&(f(e,b+1),c.preventDefault())});a("body").delegate("input[name\x3d'collapse-to-most-helpful-answer']",
"click",function(d){d=a(d.currentTarget).attr("data-questionId");c(d)})});h.when("jQuery","ready").register("askAuthenticatedAjax",function(a){return{handler:function(b,g){var f=a(b.currentTarget),e=f.attr("action"),c=f.attr("method"),d=f.serializeArray(),n=f.attr("type");g={url:e,type:c,data:d,dataType:n,timeout:g,beforeSend:function(c,d){void 0===d.dataType&&c.setRequestHeader("Accept","*/*;q\x3d0.5, "+d.accepts.script);c.setRequestHeader("X-Requested-With","XMLHttpRequest");var e=a.Event("ajax:beforeSend");
f.trigger(e,[c,d]);if(!1!==e.result)f.trigger("ajax:send",c);else return!1},success:function(a,c,d){f.trigger("ajax:success",[a,c,d])},complete:function(a,c){f.trigger("ajax:complete",[a,c])},error:function(a,c,d){f.trigger("ajax:error",[a,c,d])}};if(!("withCredentials"in new XMLHttpRequest))return!0;g.xhrFields={withCredentials:!0};b.preventDefault();a.ajax(g)}}});h.when("jQuery","askAbstractLiveSearch","ready").register("askLiveSearch",function(a,b){return{setup:function(a,f,e){b.setup(a,f,e,"/ask/livesearch/search")}}});
h.when("askAbstractLiveSearch","ready").register("askDetailPageSearchLiveSearch",function(a){return{setup:function(b,g,f){a.setup(b,g,f,"/ask/livesearch/detailPageSearch/search")}}});h.when("jQuery","ready").register("askAbstractLiveSearch",function(a){function b(a){return"function"!==typeof a?function(){}:a}var g=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}();return{setup:function(f,
e,c,d){function n(){var c=v.val(),d=a.trim(c);clearTimeout(h);if(d!==q){null===t&&(t=g(),w.val(t));r=a(".askLiveSearchPageLoadId").val();if(null===r||""===r)r=g(),a(".askLiveSearchPageLoadId").val(r);u=a.trim(z.val());0===d.length?(k&&k.abort(),G(),t=q=null):c.match(/\w\W+$/)?p(d):h=setTimeout(function(){p(d)},500)}}function p(c){B();clearTimeout(h);k=a.ajax(d,{type:"GET",data:{query:c,asin:m,forumId:A,liveSearchSessionId:w.val(),liveSearchPageLoadId:a(".askLiveSearchPageLoadId").val(),searchSource:l(c),
askLanguage:a.trim(x.find("[name\x3daskLanguage]").val())}}).done(E).fail(F);q=c}function l(a){var c=v.data("autocomplete");a="undefined"!==typeof c&&null!==c?c.getSearchSuggestions().includes(a):!1;return a?"typeAhead":u}var k,h,q,t=null,r=null,u=null,v=f.find(e),x=v.closest("form"),w=f.find(".askLiveSearchSessionId"),z=x.children("input[name\x3dsearchSource]"),m=a.trim(x.children("input.askAsin").val()),A=a.trim(x.children("input.askForumId").val()),u=a.trim(x.children("input[name\x3dsearchSource]").val()),
B=b(c.liveSearchStartCallback),E=b(c.liveSearchDoneCallback),G=b(c.liveSearchClearCallback),F=b(c.liveSearchFailCallback);f.undelegate(".livesearch").delegate(e,"keyup.livesearch input.livesearch",n);return n}}});h.when("A","ready").register("askAbstractDetailPageSearchPostQuestion",function(a){function b(e,c,d){a.get("/gp/customer-forum/dynamic-update/validate-post.html",{contentType:"json",params:{body:e,checkIsQuestion:1},success:function(a){a.hasError||a.content.isQuestion?c():d()},error:function(){c()}})}
var g=a.$,f={postQuestionTextInputSelector:"input",callbacks:{goodQuestion:function(){},badQuestion:function(){},emptyQuestion:function(){}}};return{setup:function(e,c){function d(){n.callbacks.badQuestion();p=!0}var n=g.extend(!0,{},f,c),p=!1;a.declarative(e,"click",function(){var a=g(n.postQuestionTextInputSelector).val();"undefined"===typeof a||a.match(/^\s*$/)?n.callbacks.emptyQuestion():p?n.callbacks.goodQuestion():-1===a.indexOf("?")?d():b(a,n.callbacks.goodQuestion,d)})}}});h.when("A","a-alert",
"ready").register("askAnswerSolicitationDeleteAnswer",function(a,b){function g(b){return a.$("#askDeleteAnswerSection-"+b.data.answerId)}return{setup:function(f){var e=a.$("#askPostAnswerFormSection-"+f),c=a.$("#askPostAnswerForm-"+f),d=a.$("#askPostAnswerResponse-"+f);a.declarative("ask-show-delete-answer-section","click",function(a){g(a).show()});a.declarative("ask-hide-delete-answer-section","click",function(a){g(a).hide()});a.declarative("ask-submit-delete-answer-form","click",function(f){f=f.data.answerId;
var g=a.$("#askDeleteAnswerForm-"+f),l=a.$("#askAnswerContentSection-"+f),k=a.$("#askUpdateAnswerSection-"+f),h=b("#askDeleteAnswerError-"+f);h.hide();k.hide();a.post(g.attr("action"),{withCredentials:!0,params:g.serializeArray(),indicator:a.$("#askDeleteAnswerSpinner-"+f),success:function(a,b,f){d.hide();l.hide();e.show();c.show()},error:function(a){h.html(a.http.responseText).show();k.show()}})})}}});h.when("jQuery","ready").register("askExpander",function(a){return{setup:function(b){b.delegate(".askExpanderContainer .askSeeMore",
"click",function(b){a(b.currentTarget).closest(".askExpanderContainer").addClass("askExpanderExpanded");b.preventDefault()});b.delegate(".askExpanderContainer .askSeeLess","click",function(b){a(b.currentTarget).parents(".askExpanderContainer").removeClass("askExpanderExpanded");b.preventDefault()})}}});h.when("A").register("askPreventEnterKey",function(a){a.declarative("ask-prevent-enter-key","keypress",function(a){13===a.$event.which&&a.$event.preventDefault()})});h.when("A","askUtils","ready").register("askPreventDoubleSubmit",
function(a,b){return{idempotentSetup:b.makeIdempotent(function(){var b=!1;a.declarative("ask-prevent-double-submit","submit",function(a){b&&a.$event.preventDefault();b=!0})})}});h.when("A","ready").register("askHuddlesControl",function(a){return{initializeHuddlesLinks:function(b,g){var f={};b.find(".askHuddlesUninitializedLink").each(function(c){c=a.$(this);var d=c.data("questionId");f[d]=c});var e=a.$.map(f,function(a,d){return d});0!==e.length&&a.$.ajax({url:"/ask/conversations/data",data:{questionId:e,
sourcePage:g},timeout:5E3,traditional:!0,success:function(c){if(c=a.$.parseJSON(c))a.$.each(c,function(c,e){e.questionId&&f[e.questionId]&&(c=f[e.questionId],e.url&&(c.find("a").attr("href",e.url),c.removeClass("askHuddlesUninitializedLink"),e.chatboxParams&&a.declarative.create(c.find("a"),"render-huddles-chat",e.chatboxParams)))}),b.find(".askHuddlesUninitializedLink").remove()},complete:function(){a.trigger("ask:huddles-data:complete")}})},initializeChatbox:function(){h.when("A","huddles-chatbox").execute(function(a,
g){a.declarative("render-huddles-chat","click",function(f){g.renderHuddleChat(a.$.extend({},f.data,{showEmbedded:!1}));f.$event.preventDefault()})})}}});h.register("askCsmCounter",function(){function a(a){if("undefined"!==typeof a){var g=m.ue;if(g&&g.count){var f=g.count(a)||0;g.count(a,f+1)}}}return{logCounterMetric:a,logAddCounterMetric:function(a,g){if("undefined"!==typeof a){var f=m.ue;if(f&&f.count){var e=f.count(a)||0;f.count(a,e+g)}}},createRateLimitedCsmLogHandler:function(b){var g=!1;return function(){g||
(g=!0,setTimeout(function(){g=!1},300),a(b))}}}});h.when("A","askUtils","jQuery","ready").register("askPrefetchDetailPageSearchData",function(a,b,g){function f(){var e,c={};a.declarative("ask-detail-page-search-prefetch-click","click",function(d){var b=e||d.data.language;if(!c[b||"DEFAULT_KEY"]){d=d.data.asin;var f={};b&&(f.askLanguage=b);a.post("/ask/livesearch/detailPageSearch/search/prefetch/"+d,{params:f})}c[b||"DEFAULT_KEY"]=!0});a.declarative("ask-detail-page-search-prefetch-language-change",
"change",function(a){e=a.$target.val()})}return{setup:f,idempotentSetup:b.makeIdempotent(f)}});h.when("A","ready").register("askUtils",function(a){var b=a.$,g=[],f=[];return{makeIdempotent:function(a){var c=!1;return function(){c||(a.apply(this,arguments),c=!0)}},makeRateLimited:function(a,c){var d=!1,f=b.extend(!0,{},{minPeriodInMilliseconds:2E3},c);return function(){d||a.apply(this,arguments);d=!0;setTimeout(function(){d=!1},f.minPeriodInMilliseconds)}},idempotentDeclarative:function(e,c,d){function b(c,
d,e){var f;a.declarative(c,d,function(a){void 0===f&&(f=a.type);a.type===f&&e(a)})}var f=e+c;g[f]||("click touchstart"===c||"touchstart click"===c?b(e,c,d):a.declarative(e,c,d),g[f]=!0)},idempotentDeclarativeCreate:function(e,c){var d=e.selector+c;f[d]||(a.declarative.create(e,c),f[d]=!0)},goToUrl:function(a){m.location.href=a},defaultFunction:function(a){return"function"!==typeof a?function(){}:a},generateUUID:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}
return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}}});h.when("A","askCsmCounter","askUtils","ready").register("askLogClickCsm",function(a,b,g){return{idempotentSetup:function(){g.idempotentDeclarative("ask-log-click-csm","click touchstart",function(a){b.logCounterMetric(a.data.metricName)})}}});h.when("A","askUtils","ready").register("askFollowupQuestions",function(a,b){function g(a){var d="."+a.$target.closest(".askDPSearchSecondaryViewContent, .askBtfSearchViewContent, .askDPSearchViewContent, .askSearchPageContent").find("form:first").attr("class").split(" ")[0],
b;""!==e.trim(e(d).find(".askDPSearchTextInput").prop("outerHTML"))?(b=e(".askDetailPageSearchWidgetSection"),b.length&&(b=b.offset().top,e("html, body").animate({scrollTop:b},"slow")),b=".askDPSearchTextInput"):""!==e.trim(e(d).find(".askBtfSearchTextInput").prop("outerHTML"))?(b=e(".askInlineWidget"),b.length&&(b=b.offset().top,e("html, body").animate({scrollTop:b},"slow")),b=".askBtfSearchTextInput"):""!==e.trim(e(d).find(".askSearchTextInput").prop("outerHTML"))&&(b=".askSearchTextInput");b=e(b+
" input, input"+b);b.val("").trigger("input");var g=e(d+" [name\x3dfollowupSearchSource]").val();f(d,g);a=e.trim(a.$currentTarget.text());b.val(a).trigger("input")}function f(a,d){a=e(a);var b=a.siblings(".askPostQuestionForm");a.add(b).find("[name\x3dsearchSource]").val(d)}var e=a.$;return{idempotentSetup:function(){b.idempotentDeclarative("ask-click-followup-question","click",g)},resetSWDPSearchSource:function(a){var d=e(a+" [name\x3doriginalSearchSource]").val();f(a,d)}}});h.when("A","askUtils",
"ready").register("askLanguageFilterPageReload",function(a,b){return{idempotentSetup:b.makeIdempotent(function(){a.declarative("ask-page-reload-on-language-filter-change","change",function(a){a=a.$currentTarget.find("option:selected").data("url");b.goToUrl(a)})})}});h.when("A","askUtils","ready").register("askLanguageFilterAjaxReload",function(a,b){function g(a){f(e).replaceWith(a);c.callbacks.reloadSuccess()}var f=a.$,e,c,d={callbacks:{reloadStart:function(){},reloadSuccess:function(){},reloadError:function(){}}};
return{idempotentSetup:b.makeIdempotent(function(b,p){c=f.extend(!0,{},d,p);e=b;a.declarative("ask-btf-ajax-reload-on-language-filter-change","change",function(a){a={url:a.$currentTarget.find("option:selected").data("url"),method:"GET",accepts:"text/html",beforeSend:function(){c.callbacks.reloadStart()},success:g,error:function(a,d){c.callbacks.reloadError()}};f.ajax(a)})})}});h.when("A","askUtils","askCsmCounter","askLogClickCsm","ready").register("askLanguageFilterCsm",function(a,b,g,f){return{idempotentSetup:b.makeIdempotent(function(){a.declarative("ask-language-filter-option-click-csm",
"change",function(a){a=a.$currentTarget.find("option:selected").data("csm-name");g.logCounterMetric(a)});f.idempotentSetup()})}});h.when("A","a-alert","ready").register("askUpperFunnelQuestionPostAnswer",function(a,b){return{setup:function(g){var f=a.$("#askPostAnswerFormSection-"+g),e=a.$("#askPostAnswerForm-"+g),c=a.$("#askAnswerTextArea-"+g),d=a.$("#askPostAnswerResponse-"+g),n=a.$("#askPostAnswerSpinner-"+g),p=b("#askPostAnswerError-"+g);a.declarative.create(e,"ask-post-answer-submit");a.declarative("ask-post-answer-submit",
"submit",function(b){b.$event.preventDefault();f.children().hide();a.post(e.attr("action"),{withCredentials:!0,params:e.serializeArray(),indicator:n,success:function(a,b,e){d.html(a);d.show();c.val("")},error:function(c){401===c.http.status||409===c.http.status?(a.declarative.remove(e,"ask-post-answer-submit"),e.submit()):(e.show(),p.html(c.http.responseText).show())}})});a.declarative("ask-submit-delete-answer-form","click",function(c){c=c.data.answerId;var g=a.$("#askDeleteAnswerForm-"+c),n=a.$("#askAnswerContentSection-"+
c),p=a.$("#askUpdateAnswerSection-"+c),h=b("#askDeleteAnswerError-"+c);h.hide();p.hide();a.post(g.attr("action"),{withCredentials:!0,params:g.serializeArray(),indicator:a.$("#askDeleteAnswerSpinner-"+c),success:function(a,c,b){d.hide();n.hide();f.show();e.show()},error:function(a){h.html(a.http.responseText).show();p.show()}})})}}});h.when("A","askUtils","ready").register("askUpperFunnelQuestionRedirect",function(a,b){return{setup:function(g){var f=a.$("#redirectDelay"),e=f.data("message"),c=10,d=
setInterval(function(){c--;var a=e.replace("##delay##",c);f.text(a);0===c&&(clearInterval(d),b.goToUrl(g))},1E3);a.declarative("ask-redirect-to-spark-action","click",function(a){b.goToUrl(g)})}}});h.when("A","a-carousel-framework","a-alert","askCsmCounter","ready").register("askAnswerMoreQuestionsCarousel",function(a,b,g,f){function e(a){return a.checkValidity&&!a.checkValidity()?(a.reportValidity&&a.reportValidity(),!1):!0}var c=a.$,d=0,n=0;return{initializeCarousel:function(){b.createAll();b.initializeAll();
c(".ask-answer-more-questions-carousel-pagination-dots li:gt(4)").hide()},setup:function(p,h){var k=b.getCarouselByName("askAnswerMoreQuestionsCarouselContainer"),y=k.getAttr("set_size");a.on("a:carousel:askAnswerMoreQuestionsCarouselContainer:change:pageNumber",function(b){var e=b.newValue;1<=d&&6<e&&c(".ask-answer-more-questions-carousel-pagination-dots li:gt(5)").show();if(1>d&&5<e)k.gotoPage(b.oldValue);else{n<e&&(f.logAddCounterMetric("ask-answer-more-questions-highest-card-number-"+h,e-n),n=
e);b=b.oldValue;var g=c(".ask-answer-more-questions-carousel-pagination-dots li");g.eq(b-1).removeClass("a-selected");g.eq(e-1).addClass("a-selected")}"desktop"===h&&(b=a.$("#askAnswerMoreQuestionsDesktopBack"),1===e&&(b.removeClass("askAnswerMoreQuestionsDesktopBackActivate"),b.addClass("askAnswerMoreQuestionsDesktopBackDeactivate")),1<e&&(b.removeClass("askAnswerMoreQuestionsDesktopBackActivate"),b.addClass("askAnswerMoreQuestionsDesktopBackActivate")))});a.declarative("ask-answer-more-question-show-more-click",
"click",function(a){f.logCounterMetric("ask-answer-more-questions-show-more-questions-link-"+h);a=k.getAttr("pageNumber");c(".ask-answer-more-questions-carousel-pagination-dots li:gt(5)").show();a+1<=y&&1<=d&&k.gotoPage(a+1)});a.declarative("ask-answer-more-question-show-no-click","click",function(a){f.logCounterMetric("ask-answer-more-questions-no-more-question-link-"+h);p.hide()});a.declarative("ask-answer-more-question-back-click","click",function(a){f.logCounterMetric("ask-answer-more-questions-back-previous-question-link-"+
h);k.gotoPrevPage()});a.declarative("ask-answer-more-questions-skip-click","click",function(a){f.logCounterMetric("ask-answer-more-questions-skip-question-link-"+h);a=k.getAttr("pageNumber");1<=d&&6<a+1&&c(".ask-answer-more-questions-carousel-pagination-dots li:gt(5)").show();a===y||1>d&&5===a?p.hide():k.gotoNextPage()});a.declarative("ask-answer-more-question-answer-click","click",function(b){b=b.data.questionId;var n=k.getAttr("pageNumber"),p=a.$("#askPostAnswerForm-"+b),u=p.parents("li.a-carousel-card");
a.$("#askAnswerTextArea-"+b);a.$("#askPostAnswerResponse-"+b);var v=a.$("#askPostAnswerSpinner-"+b),x=g("#askPostAnswerError-"+b),w=a.$("#askPostAnswerFormSection-"+b).find(".askAnswerMoreQuestionsConfirmation");e(p[0])&&a.post(p.attr("action"),{withCredentials:!0,params:p.serializeArray(),indicator:v,success:function(a,b,e){d++;f.logCounterMetric("ask-answer-more-questions-post-answer-"+h);1<=d&&c(".ask-answer-more-questions-carousel-pagination-dots li:eq(5)").show();w.show();setTimeout(function(){w.hide();
u.html(a).show();n+1<=y&&k.gotoNextPage()},2E3)},error:function(a){p.show();x.html(a.http.responseText).show()}})})},showAfterPopoverHideCallback:function(c,b){var e=a.$("#askPostAnswerResponse-"+c);c=a.$("#askAnswerTextArea-"+c);e.show();c.val("");e=5<n?n-d-2:n-d-1;f.logAddCounterMetric("ask-answer-more-questions-skipped-questions-close-popover-"+b,0<e?e:0);n=d=0}}});h.when("A","askRenderAutoCompleteSuggestion","askUtils","ready").register("askAbstractAutoComplete",function(a,b,g){var f=function(){function a(){return Math.floor(65536*
(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}(),e=a.$,c=[13,37,38,39,40];return{setup:function(a,n,h,l){function k(a){v.data("autocomplete").updateSearchSuggestions(a.autoCompleteResults)}var y,q,t,r=null,u=null,v=a.find(n),x=v.closest("form"),w=a.find(".askLiveSearchSessionId"),m=x.children("input[name\x3dsearchSource]"),D=e.trim(x.children("input.askAsin").val()),A=e.trim(x.children("input.askForumId").val()),B=e.trim(m.val());
v.data("autocomplete",b.instantiate());v.data("autocomplete").setup(a,n,{minLength:2,delay:0},l);g.idempotentDeclarative(h,"keyup input",function(a){if(!c.includes(a.$event.which)){a=v.val();var b=e.trim(a);clearTimeout(q);if(b!==t){null===r&&(r=f(),w.val(r));u=e(".askLiveSearchPageLoadId").val();if(null===u||""===u)u=f(),e(".askLiveSearchPageLoadId").val(u);0===b.length&&(v.data("autocomplete").clear(),y&&y.abort(),t=null);2>b.length||(q=setTimeout(function(){clearTimeout(q);y=e.ajax("/ask/autocomplete/suggest",
{type:"GET",data:{query:b,asin:D,forumId:A,liveSearchSessionId:w.val(),liveSearchPageLoadId:e(".askLiveSearchPageLoadId").val(),searchSource:B,askLanguage:e.trim(x.find("[name\x3daskLanguage]").val())}}).done(k);t=b},20))}}});g.idempotentDeclarativeCreate(v,h)}}});h.when("A","askUtils","jQueryUI-autocomplete","ready").register("askRenderAutoCompleteSuggestion",function(a,b){return{instantiate:function(){function g(){[c.Event("keypress",{which:13}),c.Event("keyup",{which:13})].forEach(function(a){d.trigger(a)})}
function f(){var a=e();d.autocomplete({source:function(c,b){b(a)},minLength:n.minLength||1,delay:n.delay||0,appendTo:h,select:function(a,b){a=c.trim(b.item.value);d.val(a);g()},close:function(a,c){q()}});d.data("uiAutocomplete")._renderItem=function(a,b){return c("\x3cli\x3e\x3c/li\x3e").data("item.autocomplete",b).append("\x3ca style\x3d'overflow-x:hidden; text-overflow: ellipsis; white-space: nowrap; width: 100%'\x3e"+b.label+"\x3c/a\x3e").appendTo(a)};d.autocomplete("search")}function e(){var a=
[],c=d.val();k.forEach(function(c){c=c.question||"";a.push({label:c,value:c})});a.push({label:y,value:c});return a}var c=a.$,d=null,n={},h=null,l=null,k=[],y="",q=null;return{setup:function(a,e,f,g){d=c(a).find(e);h=d.closest(".askAutocomplete");l=h.data("autocomplete-search-results-brief");n=f||{};q=b.defaultFunction((g||{}).autocompleteClose)},updateSearchSuggestions:function(a){var c=d.val();y=l.replace("##query##",c);k=a;f()},getSearchSuggestions:function(){var a=[];k.forEach(function(c){a.push(c.question||
"")});return a},clear:function(){d.autocomplete({source:[]});d.autocomplete("close")}}}}});h.when("A","askUtils","ready").register("askAbstractClearButtonAction",function(a,b){function g(a){return c(a.target).closest(".askSearchInputIngress")}function f(a){var c=g(a);a=c.find("input[type\x3d'search']");c=c.find(".askDisplayClearSearch");""!==a.val()?c.show():c.hide()}function e(a){var c=g(a);a=c.find("input[type\x3d'search']");c=c.find(".askDisplayClearSearch");""!==a.val()&&a.val("").trigger("input");
c.hide()}var c=a.$;return{setup:function(){a.$(".askSearchInputIngress input").unbind("keyup.clearButton input.clearButton").bind("keyup.clearButton input.clearButton",f);a.$(".askDisplayClearSearch").unbind("click.clearButton").bind("click.clearButton",e)}}});h.when("A","jQuery","askVoteControl","askExpander","askLiveSearch","askHuddlesControl","askCsmCounter","askPreventDoubleSubmit","askLanguageFilterPageReload","askLanguageFilterAjaxReload","askLanguageFilterCsm","askPrefetchDetailPageSearchData",
"askDesktopBtfSearchCsm","askAbstractClearButtonAction","ready").register("askDetailPageWidget",function(a,b,g,f,e,c,d,n,h,l,k,y,q,t){function r(a){a.delegate(".askInlineWidget .askLiveSearchEnabled","keypress",function(a){13===(a.keyCode||a.which)&&a.preventDefault()})}function u(){a.declarative("ask-btf-desktop-search-button-click","click",function(){d.createRateLimitedCsmLogHandler("ask-btf-desktop-search-button-click")();b(".ask-btf-search-button").addClass("aok-hidden");b(".askBtfSearchFormLabel").removeClass("aok-hidden");
b(".ask-btf-search-box").find("[name\x3d'askQuestionText']").focus()})}var v={liveSearchStartCallback:function(){b(".askLiveSearchLoading").show();b(".askBtfErrorOnLoadingMozartTopQuestions").addClass("aok-hidden")},liveSearchDoneCallback:function(a){b(".askInlineWidget .askMoreQandAResults").empty();b(".askWidgetQuestions input.nextPage").val(2);b(".askInlineWidget .askTopQandALoadMoreQuestions").hide();b(".askLiveSearchLoading").hide();b(".askLiveSearchResults").html(a);b(".askWidgetQuestions").attr("class",
"askWidgetQuestions askLiveSearchShow");b(".askInlineWidget .askQuestionExamples").hide();b(".askQuestionForm").attr("class","askQuestionForm");b(".askPostQuestionButtonContainer").show();b(".askLiveSearchSuccessfulMessage").show();b(".askLiveSearchFailureMessage").hide()},liveSearchClearCallback:function(){b(".askLiveSearchLoading").hide();b(".askWidgetQuestions").attr("class","askWidgetQuestions askLiveSearchHide");b(".askInlineWidget .askTopQandALoadMoreQuestions, .askInlineWidget .askQuestionExamples").show();
b(".askPostQuestionButtonContainer").hide()},liveSearchFailCallback:function(){b(".askLiveSearchLoading").hide();b(".askWidgetQuestions").attr("class","askWidgetQuestions askLiveSearchHide");b(".askInlineWidget .askTopQandALoadMoreQuestions, .askInlineWidget .askQuestionExamples").show();b(".askPostQuestionButtonContainer").show();b(".askLiveSearchSuccessfulMessage").hide();b(".askLiveSearchFailureMessage").show()}},m={callbacks:{reloadStart:function(){b(".askBtfErrorOnLoadingMozartTopQuestions").addClass("aok-hidden")},
reloadSuccess:function(){var a=b("#cf-ask-cel");e.setup(a,".askInlineWidget .askLiveSearchEnabled",v);c.initializeHuddlesLinks(a,"dp")},reloadError:function(){b(".askBtfErrorOnLoadingMozartTopQuestions").removeClass("aok-hidden")}}};return{setup:function(){var a=b("#cf-ask-cel");n.idempotentSetup();h.idempotentSetup();l.idempotentSetup("#ask-btf-container",m);k.idempotentSetup();g.setup(a);f.setup(a);r(a);e.setup(a,".askInlineWidget .askLiveSearchEnabled",v);c.initializeHuddlesLinks(a,"dp");y.idempotentSetup();
q.idempotentSetup();u();t.setup()}}});h.when("A","jQuery","askDesktopAutoComplete","ready").register("askDetailPageAutocompleteWidget",function(a,b,g){return{setup:function(){var a=b("#cf-ask-cel");g.setup(a,".askInlineWidget .askLiveSearchEnabled","ask-auto-complete-action-btf")}}});h.when("A","askVoteControl","askHuddlesControl","askPreventDoubleSubmit","askExpander","askDesktopAllQuestionsPageSearchCsm","askDesktopAllQuestionsPageLiveSearch","askDesktopAbstractDetailPageSearchWidget","askAbstractClearButtonAction",
"ready").register("askAllQuestionsPage",function(a,b,g,f,e,c,d,n,h){var l=a.$;return{setup:function(){f.idempotentSetup();b.setup(l(".askTeaserQuestions"));e.setup(l(".askTeaserQuestions"));g.initializeHuddlesLinks(l(".askTeaserQuestions"),"ql");g.initializeChatbox();d.setup();n.setup("#askAllQuestionsPageDesktopSearch");c.setup();h.setup()}}});h.when("jQuery","askDesktopAnswerSolicitationPostAnswer","askAnswerSolicitationDeleteAnswer","askExpander","ready").register("askAnswerSolicitationLandingPage",
function(a,b,g,f){return{setup:function(e){b.setup(e);g.setup(e);f.setup(a(".askTestQuestion"))}}});h.when("jQuery","askExpander","askHuddlesControl","ready").register("askDesktopAllAnswersPage",function(a,b,g){return{setup:function(){b.setup(a(".askAnswersAndComments"));g.initializeChatbox()}}});h.when("A","askDesktopDetailPageWidgetLiveSearch","askDesktopAbstractDetailPageSearchWidget","askDesktopDetailPageSearchCsm","askCsmCounter","askAbstractClearButtonAction","ready").register("askDesktopDetailPageSearchWidget",
function(a,b,g,f,e,c){var d=a.$;return{setup:function(){d(".askDPSearchForm");d(".askDPSearchForm");b.setup();g.setup("input.askDPSearchPostTextInput");f.setup();(function(){a.declarative("ask-dpsearch-desktop-input-binding-language-change","change",function(){d(".askDPSearchTextInput").val("").trigger("input")})})();(function(){a.declarative("ask-swdp-desktop-search-button-click","click",function(){e.createRateLimitedCsmLogHandler("ask-swdp-desktop-search-button-click")();d(".ask-swdp-search-button").addClass("aok-hidden");
d(".askSwdpSearchInput").removeClass("aok-hidden");d(".askDPSearchTextInput").focus()})})();c.setup()}}});h.when("A","askDesktopAutoComplete","ready").register("askDesktopDetailPageSearchAutocompleteWidget",function(a,b){var g=a.$;return{setup:function(){var a=g(".askDPSearchForm");b.setup(a,".askDPSearchTextInput","ask-auto-complete-action-swdp")}}});h.when("jQuery","askExpander","ready").register("askDesktopSingleAnswerPage",function(a,b){return{setup:function(){b.setup(a(".askAnswerAndComments"))}}});
h.when("jQuery","askUpperFunnelQuestionPostAnswer","askExpander","ready").register("askDesktopUpperFunnelQuestionLandingPage",function(a,b,g){return{setup:function(f){b.setup(f);g.setup(a(".askTestQuestion"))}}});h.when("A","askDetailPageSearchLiveSearch","askDesktopBtfTabbing","askExpander","askDesktopBtfSearchPostQuestion","askFollowupQuestions","askLanguageFilterPageReload","askDesktopBtfSearchCsm","askLanguageFilterCsm","askPrefetchDetailPageSearchData","ready").register("askDesktopBtfSearch",
function(a,b,g,f,e,c,d,h,p,l){var k=a.$;return{setup:function(){var a=k(".askBtfSearchResultsContainer"),q=k(".askBtfSearchTabHeaders"),t=k(".askBtfSearchForm"),r=k(".askBtfSearchFailureMessage"),u=k(".askPostQuestionPromptContainer"),m=k(".askBtfSearchPostQuestionPrompt"),x=k(".askBtfSearchPostQuestionForm"),w=k(".askBtfSearchQuestionErrorContainer"),z=k(".askBtfSearchSearchIndicator"),D=k(".askBtfSearchResultsViewableContent"),A=k(".askTopQandA");b.setup(t,".askBtfSearchTextInput",{liveSearchStartCallback:function(){w.children().hide();
z.removeClass("aok-hidden");z.show()},liveSearchDoneCallback:function(c){k(".askInlineWidget .askMoreQandAResults").empty();k(".askWidgetQuestions input.nextPage").val(2);k(".askInlineWidget .askTopQandALoadMoreQuestions").hide();D.removeClass("aok-hidden");a.html(c);q.show();u.show();r.hide();z.hide();g.switchToTab(0);m.show();x.hide();k(".askInlineWidget .askQuestionExamples").hide();A.hide()},liveSearchClearCallback:function(){c.resetSWDPSearchSource(".askBtfSearchForm");a.empty();q.hide();u.hide();
r.hide();z.hide();w.children().hide();k(".askInlineWidget .askTopQandALoadMoreQuestions, .askInlineWidget .askQuestionExamples").show();A.show()},liveSearchFailCallback:function(){a.empty();q.hide();u.hide();z.hide();r.show();k(".askInlineWidget .askTopQandALoadMoreQuestions, .askInlineWidget .askQuestionExamples").show();A.show()}});g.setup();h.idempotentSetup();f.setup(a);e.setup();c.idempotentSetup();d.idempotentSetup();p.idempotentSetup();l.idempotentSetup()}}});h.when("A").execute(function(a){a.on("a:dropdown:selected:question_order_dropdown",
function(a){m.location=a.value})});h.when("jQuery","ready").execute(function(a){"placeholder"in document.createElement("textarea")||a(".askQuestionForm textarea").each(function(){""===a(this).val()&&""!==a(this).attr("placeholder")&&a(this).val(a(this).attr("placeholder"));a(this).focus(function(){a(this).val()===a(this).attr("placeholder")&&a(this).val("")});a(this).blur(function(){""===a(this).val()&&a(this).val(a(this).attr("placeholder"))})})});h.when("jQuery","askAuthenticatedAjax","ready").register("askVoteControl",
function(a,b){return{setup:function(g){g.undelegate(".voteAjax form","submit",b.handler);g.undelegate(".voteAjax form","ajax:beforeSend");g.undelegate(".voteAjax form","ajax:send");g.undelegate(".voteAjax form","ajax:error");g.undelegate(".voteAjax form","ajax:success");g.delegate(".voteAjax form","submit",b.handler);g.delegate(".voteAjax form","ajax:beforeSend",function(b,e){var c=a(b.currentTarget),d=c.closest(".voteAjax");if(d.hasClass("up")&&c.hasClass("up")||d.hasClass("down")&&c.hasClass("down"))return b.preventDefault(),
e.abort(),!1});g.delegate(".voteAjax form","ajax:error",function(f,e){if(401===e.status||466===e.status)g.undelegate(".voteAjax form","submit",b.handler),a(f.currentTarget).trigger("submit")});g.delegate(".voteAjax form","ajax:success",function(b){b=a(b.currentTarget);var e=b.closest(".voteAjax"),c=e.find(".label"),d=e.find(".count"),g=b.hasClass("up")?1:-1,g=parseInt(c.attr("data-count"),10)+g;c.attr("data-count",g);d.text(""+g);e.attr("class","vote voteAjax "+b.attr("class"))})}}});h.when("A","ready").register("askDesktopTabbing",
function(a){function b(a){(function(a){var b=f(".askSearchResultsHeader");a=f(b.get(a));b.removeClass("askSearchResultsHeaderActive");a.addClass("askSearchResultsHeaderActive")})(a);(function(a){var b=f(".askSearchResults");a=f(b.get(a));b.removeClass("askSearchResultsActive");a.addClass("askSearchResultsActive")})(a)}function g(){a.declarative("ask-dpsearch-desktop-go-to-tab","click",function(a){f(".askSearchResultsHeader").index(a.$target);b(a.data.index)})}var f=a.$;return{setup:function(){g()},
switchToTab:b}});h.when("A","askAbstractDetailPageSearchPostQuestion","askUtils","ready").register("askDesktopDetailPageSearchPostQuestion",function(a,b,g){var f=a.$;return{setup:function(e){var c=f(".askDPSearchForm"),d=f(".askDPSearchQuestionErrorContainer"),h=d.find(".askBadQuestionError");a.declarative("ask-dpsearch-desktop-open-post-question","click",function(a){f(".askDPSearchPostQuestionPrompt").hide();f(".askDPSearchPostQuestionForm").removeClass("aok-hidden").show();a=f(".askDPSearchTextInput").val();
f(e).val(a)});var p=g.makeRateLimited(function(){c.submit()},{minPeriodInMilliseconds:2E3});b.setup("ask-dpsearch-desktop-post-question",{postQuestionTextInputSelector:e,callbacks:{goodQuestion:p,badQuestion:function(){d.children().hide();h.show()}}})}}});h.when("A","askCsmCounter","askLogClickCsm","askLanguageFilterCsm","ready").register("askDesktopDetailPageSearchCsm",function(a,b,g,f){return{setup:function(){a.declarative("ask-dpsearch-desktop-input-change","change",function(a){var c="ask-dpsearch-desktop-input-change";
a.data.searchButton&&(c="ask-dpsearch-button-desktop-input-change");b.logCounterMetric(c)});a.declarative("ask-dpsearch-desktop-input-keyup","keyup",function(a){var c="ask-dpsearch-desktop-input-keyup";a.data.searchButton&&(c="ask-dpsearch-button-desktop-input-keyup");b.logCounterMetric(c)});a.declarative("ask-dpsearch-desktop-input-click","click touchstart",function(a){var c="ask-dpsearch-desktop-input-click";a.data.searchButton&&(c="ask-dpsearch-button-desktop-input-click");b.createRateLimitedCsmLogHandler(c)()});
a.declarative("ask-dpsearch-desktop-input-focusin","focusin",function(a){var c="ask-dpsearch-desktop-input-focusin";a.data.searchButton&&(c="ask-dpsearch-button-desktop-input-focusin");b.createRateLimitedCsmLogHandler(c)()});g.idempotentSetup();f.idempotentSetup()}}});h.when("A","askCsmCounter","askLogClickCsm","ready").register("askDesktopAllQuestionsPageSearchCsm",function(a,b,g){return{setup:function(){a.declarative("ask-aqpsearch-desktop-input-change","change",function(){b.logCounterMetric("ask-aqpsearch-desktop-input-change")});
a.declarative("ask-aqpsearch-desktop-input-keyup","keyup",function(){b.logCounterMetric("ask-aqpsearch-desktop-input-keyup")});var f=b.createRateLimitedCsmLogHandler("ask-aqpsearch-desktop-input-click");a.declarative("ask-aqpsearch-desktop-input-click","click touchstart",f);f=b.createRateLimitedCsmLogHandler("ask-aqpsearch-desktop-input-focusin");a.declarative("ask-aqpsearch-desktop-input-focusin","focusin",f);g.idempotentSetup()}}});h.when("A","askDetailPageSearchLiveSearch","askDesktopTabbing",
"askFollowupQuestions","ready").register("askDesktopDetailPageWidgetLiveSearch",function(a,b,g,f){var e=a.$;return{setup:function(){var a=e(".askSearchResultsContainer"),d=e(".askSearchTabHeaders"),h=e(".askDPSearchForm"),p=e(".askDPSearchFailureMessage"),l=e(".askPostQuestionPromptContainer"),k=e(".askDPSearchPostQuestionPrompt"),m=e(".askDPSearchPostQuestionForm"),q=e(".askDPSearchQuestionErrorContainer"),t=e(".askDPSearchSearchIndicator"),r=e(".askDPSearchResultsViewableContent");b.setup(h,".askDPSearchTextInput",
{liveSearchStartCallback:function(){q.children().hide();t.removeClass("aok-hidden");t.show()},liveSearchDoneCallback:function(b){r.removeClass("aok-hidden");a.html(b);d.show();l.show();p.hide();t.hide();g.switchToTab(0);k.show();m.hide()},liveSearchClearCallback:function(){f.resetSWDPSearchSource(".askDPSearchForm");a.empty();d.hide();l.hide();p.hide();t.hide();q.children().hide();r.addClass("aok-hidden")},liveSearchFailCallback:function(){a.empty();d.hide();l.hide();t.hide();p.show()}})}}});h.when("A",
"askDetailPageSearchLiveSearch","askDesktopTabbing","askFollowupQuestions","ready").register("askDesktopAllQuestionsPageLiveSearch",function(a,b,g,f){var e=a.$;return{setup:function(){function a(){v.hide();x.hide();w.hide()}var d=e(".askSearchResultsContainer"),h=e(".askSearchTabHeaders"),p=e(".askDPSearchForm"),l=e(".askDPSearchFailureMessage"),k=e(".askPostQuestionPromptContainer"),m=e(".askDPSearchPostQuestionPrompt"),q=e(".askDPSearchPostQuestionForm"),t=e(".askDPSearchQuestionErrorContainer"),
r=e(".askDPSearchSearchIndicator"),u=e(".askDPSearchResultsViewableContent"),v=e(".askPaginationHeader"),x=e(".askInlineWidget"),w=e(".askQuestionsPagePaginationBar");b.setup(p,"#askAllQuestionsPageDesktopSearch",{liveSearchStartCallback:function(){t.children().hide();a();r.removeClass("aok-hidden");r.show()},liveSearchDoneCallback:function(b){u.removeClass("aok-hidden");d.html(b);h.show();k.show();l.hide();r.hide();g.switchToTab(0);m.show();q.hide();a()},liveSearchClearCallback:function(){f.resetSWDPSearchSource(".askDPSearchForm");
d.empty();h.hide();k.hide();l.hide();r.hide();t.children().hide();v.show();x.show();w.show()},liveSearchFailCallback:function(){d.empty();h.hide();k.hide();r.hide();l.show();a()}})}}});h.when("A","askPrefetchDetailPageSearchData","askDesktopTabbing","askExpander","askDesktopDetailPageSearchPostQuestion","askFollowupQuestions","ready").register("askDesktopAbstractDetailPageSearchWidget",function(a,b,g,f,e,c){var d=a.$;return{setup:function(a){var h=d(".askSearchResultsContainer");b.setup();g.setup();
f.setup(h);e.setup(a);c.idempotentSetup()}}});h.when("A","jQuery","ready").register("askModerationControl",function(a,b){function g(a,b){var e="";b.forEach(function(b){e+=a.replace(/##marketplace##/g,b.marketplace||"").replace(/##uri##/g,b.uri||"").replace(/##subject##/g,(b.subject||"").id).replace(/##text##/g,b.text||"").replace(/##author##/g,b.actorId||"").replace(/##submitDate##/g,b.submitDate||"").replace(/##contentState##/g,b.contentState||"").replace(/##moderationState##/g,b.moderationState||
"")});return e}function f(a,b){var e="";b.forEach(function(b){e+=a.replace(/##marketplace##/g,b.marketplace||"").replace(/##uri##/g,b.uri||"").replace(/##subject##/g,b.questionUri||"").replace(/##text##/g,b.text||"").replace(/##author##/g,b.actorId||"").replace(/##submitDate##/g,b.submitDate||"").replace(/##contentState##/g,b.contentState||"").replace(/##moderationState##/g,b.moderationState||"")});return e}function e(a){a=a.serializeArray();var d={};b.map(a,function(a,b){d[a.name]=a.value});return d}
return{setup:function(c){function d(){var b=e(c.find("#byCustomerForm"));if(l(b,["customerId","type"])){var d=b.type,h;a:switch(d){case "questions":h=c.find("#questionResultTable");break a;case "answers":h=c.find("#answerResultTable");break a;default:h=null}var k="answers"===d?f:g;a.get("/ask/moderator/searchByCustomer/"+d,{params:b,success:function(a){var b=v(a.items,"uri");B.val(a.nextPageToken||"");h.find("tbody").append(k(z,b)).parent().show()},error:w})}}function h(b,d){var k=e(c.find("#byThreadForm"));
l(k,["questionId"])&&(b&&a.get("/ask/moderator/searchByThread/questions",{params:k,success:function(a){a=a.items;D.find("tbody").append(g(z,a)).parent().show()},error:w}),d&&a.get("/ask/moderator/searchByThread/answers",{params:k,success:function(a){a=a.items;E.val(A.find("tbody tr").length+a.length);A.find("tbody").append(f(z,a)).parent().show()},error:w}))}function p(b,c,d){a.post("/ask/moderator/moderate/"+d,{params:{action:b,uris:c.join(",")},success:x,error:w})}function l(a,b){var c=[];b.forEach(function(b){var d=
"Field "+b+" must be specified.";b=a[b]&&0!==a[b].trim().length?void 0:d;b&&c.push(b)});return c.length?(k(c),!1):!0}function k(a){a="\x3cul\x3e"+b.map(a,function(a){return"\x3cli\x3e"+a+"\x3c/li\x3e"}).join("")+"\x3c/ul\x3e";var d=c.find(".moderationError");d.show();d.find(".a-alert-content").html(a)}function m(){c.find(".moderationError").hide().find(".a-alert-content").html("");c.find(".moderationSuccess").hide().find(".a-alert-content").html("")}function q(){c.find("#questionResultTable").hide().find("tbody").html("");
c.find("#answerResultTable").hide().find("tbody").html("")}function t(){B.val("");E.val(0);C.val(10)}function r(a){var c=[];a.find("tbody tr").each(function(a,d){b(d).find("input:checkbox").is(":checked")&&(a=b(d).find(".itemUri").data("uri"),-1===c.indexOf(a)&&c.push(a))});return c}function u(a){a=a.attr("id");return a.match("question")?"questions":a.match("answer")?"answers":""}function v(a,b){var c=[];return a.filter(function(a){a=a[b]||"";var d=-1===c.indexOf(a);d&&c.push(a);return d})}function x(a){c.find(".moderationSuccess").show().find(".a-alert-content").html("Action Success!")}
function w(a){k(["Error Encountered: "+a.http.responseText])}var z=c.find("#template-tr-item").first().html(),D=c.find("#questionResultTable"),A=c.find("#answerResultTable"),B=c.find("input[name\x3d'nextPageToken']"),E=c.find("input[name\x3d'offset']"),C=c.find("input[name\x3d'limit']"),F="byThread";a.on("a:tabs:searchCriterion:select",function(a){F=a.selectedTab.tabName});c.delegate(".searchByCustomer","click",function(a){m();q();t();d()});c.delegate(".searchByThread","click",function(a){m();q();
t();h(!0,!0)});c.delegate(".loadMore","click",function(a){m();"byCustomer"===F?d():h(!1,!0)});c.delegate(".unsuppress","click",function(a){m();c.find("table:visible").each(function(a,c){c=b(c);a=r(c);(c=u(c))&&a.length&&p("unsuppress",a,c)})});c.delegate(".suppress","click",function(a){m();c.find("table:visible").each(function(a,c){c=b(c);a=r(c);(c=u(c))&&a.length&&p("suppress",a,c)})});c.delegate(".suppressAll","click",function(b){m();(b=c.find("input[name\x3d'questionId']").val())?confirm("Are you sure to suppress the question and all the answers to it?")&&
a.post("/ask/moderator/moderate/suppressAll",{params:{questionId:b.trim()},success:x,error:w}):k(["No Question Specified."])});c.delegate("input[name\x3d'selectAll']","change",function(a){a=this.checked;b(this).parents("table").find("tbody input:checkbox").prop("checked",a)});c.delegate("select[name\x3d'type']","change",function(a){m();q()})}}});h.when("A","a-modal","a-alert","askAnswerMoreQuestionsCarousel","a-carousel-framework","askCsmCounter","ready").register("askDesktopAnswerSolicitationPostAnswer",
function(a,b,g,f,e,c){function d(b,d){var g=e.getCarouselByName("askAnswerMoreQuestionsCarouselContainer");a.on("a:popover:afterHide:askAnswerMoreQuestionsModal",function(a){f.showAfterPopoverHideCallback(b,d)});a.declarative("ask-answer-more-questions-desktop-back-click","click",function(a){c.logCounterMetric("ask-answer-more-questions-desktop-back-link");1<=g.getAttr("pageNumber")-1&&g.gotoPrevPage()});a.declarative("ask-answer-more-questions-desktop-pagination-click","click",function(a){c.logCounterMetric("ask-answer-more-questions-desktop-pagination-dot-click");
g.gotoPage(a.data.card)})}return{setup:function(e){var h=a.$("#askPostAnswerFormSection-"+e),l=a.$("#askPostAnswerForm-"+e),k=a.$("#askAnswerTextArea-"+e),m=a.$("#askPostAnswerResponse-"+e),q=a.$("#askPostAnswerSpinner-"+e),t=g("#askPostAnswerError-"+e);a.declarative.create(l,"ask-post-answer-submit");a.declarative("ask-post-answer-submit","submit",function(g){g.$event.preventDefault();h.children().hide();a.post(l.attr("action"),{withCredentials:!0,params:l.serializeArray(),indicator:q,success:function(g,
h,l){c.logCounterMetric("ask-answer-solicitation-post-answer-desktop");m.html(g);g=a.$(".askAnswerMoreQuestionsModal");g.length?(c.logCounterMetric("ask-answer-more-questions-enter-desktop"),b.create(g,{name:"askAnswerMoreQuestionsModal",inlineContent:g,height:358,width:427,hideHeader:"true"}).show(),f.initializeCarousel(),g=b.get("askAnswerMoreQuestionsModal"),f.setup(g,"desktop"),d(e,"desktop")):(m.show(),k.val(""))},error:function(b){401===b.http.status||409===b.http.status?(a.declarative.remove(l,
"ask-post-answer-submit"),l.submit()):(l.show(),t.html(b.http.responseText).show())}})})}}});h.when("ready").register("askDesktopAutoComplete",function(){return{setup:function(a,b,g){}}});h.when("A","askAbstractDetailPageSearchPostQuestion","askUtils","ready").register("askDesktopBtfSearchPostQuestion",function(a,b,g){var f=a.$;return{setup:function(){var e=f(".askBtfSearchForm"),c=f(".askBtfSearchQuestionErrorContainer"),d=c.find(".askBadQuestionError");a.declarative("ask-btfsearch-desktop-open-post-question",
"click",function(a){f(".askBtfSearchPostQuestionPrompt").hide();f(".askBtfSearchPostQuestionForm").removeClass("aok-hidden").show();a=f(".askBtfSearchTextInput").val();f("input.askBtfSearchPostTextInput").val(a)});var h={postQuestionTextInputSelector:"input.askBtfSearchPostTextInput",callbacks:{goodQuestion:g.makeRateLimited(function(){e.submit()},{minPeriodInMilliseconds:2E3}),badQuestion:function(){c.children().hide();d.show()}}};b.setup("ask-btfsearch-desktop-post-question",h)}}});h.when("A","ready").register("askDesktopBtfTabbing",
function(a){function b(a){(function(a){var b=f(".askBtfSearchResultsHeader");a=f(b.get(a));b.removeClass("askBtfSearchResultsHeaderActive");a.addClass("askBtfSearchResultsHeaderActive")})(a);(function(a){var b=f(".askBtfSearchResults");a=f(b.get(a));b.removeClass("askBtfSearchResultsActive");a.addClass("askBtfSearchResultsActive")})(a)}function g(){a.declarative("ask-btfsearch-desktop-go-to-tab","click",function(a){f(".askBtfSearchResultsHeader").index(a.$target);b(a.data.index)})}var f=a.$;return{setup:function(){g()},
switchToTab:b}});h.when("A","askUtils","askCsmCounter","askLogClickCsm","askLanguageFilterCsm","ready").register("askDesktopBtfSearchCsm",function(a,b,g,f,e){return{idempotentSetup:b.makeIdempotent(function(){var b=g.createRateLimitedCsmLogHandler("ask-btf-desktop-all-questions-page-button-click");a.declarative("ask-btf-desktop-all-questions-page-button-click","click",b);a.declarative("ask-btf-desktop-input-click","click",function(a){var b="ask-btf-desktop-input-click";a.data.searchButton&&(b="ask-btf-desktop-button-input-click");
g.createRateLimitedCsmLogHandler(b)()});a.declarative("ask-btf-desktop-input-focusin","focusin",function(a){var b="ask-btf-desktop-input-focusin";a.data.searchButton&&(b="ask-btf-desktop-button-input-focusin");g.createRateLimitedCsmLogHandler(b)()});a.declarative("ask-btf-desktop-input-change","change",function(a){var b="ask-btf-desktop-input-change";a.data.searchButton&&(b="ask-btf-desktop-button-input-change");g.logCounterMetric(b)});a.declarative("ask-btf-desktop-input-keyup","keyup",function(a){var b=
"ask-btf-desktop-input-keyup";a.data.searchButton&&(b="ask-btf-desktop-button-input-keyup");g.logCounterMetric(b)});a.declarative("ask-btf-search-link-click","click",function(){g.logCounterMetric("ask-btf-desktop-search-link-click");$(".ask-btf-search-link").addClass("aok-hidden");$(".ask-btf-search-box").removeClass("aok-hidden")})})}})});